{"ast":null,"code":"import _regeneratorRuntime from\"/Users/declannelson/code/gcal/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/declannelson/code/gcal/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/declannelson/code/gcal/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import ApiCalendar from'react-google-calendar-api';import DatePicker from'react-date-picker';import Button from'react-bootstrap/Button';import Container from'react-bootstrap/Container';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';import DisplayData from'./components/DisplayData';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var App=function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),auth=_useState2[0],setAuth=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),processed=_useState4[0],setProcessed=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),includeDeleted=_useState6[0],setIncludeDeleted=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),data=_useState8[0],setData=_useState8[1];var _useState9=useState(new Date()),_useState10=_slicedToArray(_useState9,2),startDate=_useState10[0],setStartDate=_useState10[1];var _useState11=useState(new Date()),_useState12=_slicedToArray(_useState11,2),endDate=_useState12[0],setEndDate=_useState12[1];var handleSignIn=function handleSignIn(e){ApiCalendar.handleAuthClick();if(ApiCalendar.sign){setAuth(true);}};var handleSignOut=function handleSignOut(e){ApiCalendar.handleSignoutClick();setAuth(false);setProcessed(false);};var getEvents=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var adjustedEndDate,_yield$ApiCalendar$li,result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:while(!ApiCalendar.sign){console.log('waiting to sign in');}adjustedEndDate=new Date(endDate);adjustedEndDate.setDate(adjustedEndDate.getDate()+1);_context.next=5;return ApiCalendar.listEvents({timeMin:startDate.toISOString(),timeMax:adjustedEndDate.toISOString(),showDeleted:includeDeleted,maxResults:10000,orderBy:'startTime',singleEvents:true});case 5:_yield$ApiCalendar$li=_context.sent;result=_yield$ApiCalendar$li.result;setData(result.items);setProcessed(true);case 9:case\"end\":return _context.stop();}}},_callee);}));return function getEvents(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Container,{className:\"p-3\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Google Calendar Visualization Tool\"}),/*#__PURE__*/_jsx(Container,{className:\"p-5 bg-light rounded-3\",children:!auth?/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"You are not currently signed in.\"}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(e){return handleSignIn(e);},variant:\"primary\",children:\"Sign In With Google\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Start Date:\"}),/*#__PURE__*/_jsx(DatePicker,{onChange:setStartDate,value:startDate})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"End Date (Inclusive): \"}),/*#__PURE__*/_jsx(DatePicker,{onChange:setEndDate,value:endDate})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:includeDeleted,onChange:function onChange(){return setIncludeDeleted(!includeDeleted);},style:{\"margin-right\":\"3px\"}}),\"Include Deleted\"]})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(e){return getEvents();},variant:\"primary\",children:\"Process Calendar Data\"})})}),/*#__PURE__*/_jsx(Row,{style:{\"margin-top\":\"5px\"},children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(e){return handleSignOut(e);},variant:\"secondary\",children:\"Sign Out\"})})})]})}),processed?/*#__PURE__*/_jsx(DisplayData,{data:data}):/*#__PURE__*/_jsx(\"p\",{})]});};export default App;","map":{"version":3,"names":["React","useState","ApiCalendar","DatePicker","Button","Container","Row","Col","DisplayData","App","auth","setAuth","processed","setProcessed","includeDeleted","setIncludeDeleted","data","setData","Date","startDate","setStartDate","endDate","setEndDate","handleSignIn","e","handleAuthClick","sign","handleSignOut","handleSignoutClick","getEvents","console","log","adjustedEndDate","setDate","getDate","listEvents","timeMin","toISOString","timeMax","showDeleted","maxResults","orderBy","singleEvents","result","items"],"sources":["/Users/declannelson/code/gcal/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\n\nimport ApiCalendar from 'react-google-calendar-api';\nimport DatePicker from 'react-date-picker';\nimport Button from 'react-bootstrap/Button';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\n\nimport DisplayData from './components/DisplayData';\n\nconst App = () => {\n\n  const [auth, setAuth] = useState(false);\n  const [processed, setProcessed] = useState(false);\n  const [includeDeleted, setIncludeDeleted] = useState(false);\n  const [data, setData] = useState(false);\n  const [startDate, setStartDate] = useState(new Date());\n  const [endDate, setEndDate] = useState(new Date());\n\n  const handleSignIn = (e) => {\n    ApiCalendar.handleAuthClick();\n    if (ApiCalendar.sign) {\n      setAuth(true);\n    }\n  }\n  \n  const handleSignOut = (e) => {\n    ApiCalendar.handleSignoutClick();\n    setAuth(false);\n    setProcessed(false);\n  }\n\n  const getEvents = async () => {\n    while (!ApiCalendar.sign) {\n      console.log('waiting to sign in');\n    }\n\n    const adjustedEndDate = new Date(endDate);\n    adjustedEndDate.setDate(adjustedEndDate.getDate() + 1);\n\n    const { result } = await ApiCalendar.listEvents({\n      timeMin: startDate.toISOString(),\n      timeMax: adjustedEndDate.toISOString(),\n      showDeleted: includeDeleted,\n      maxResults: 10000,\n      orderBy: 'startTime',\n      singleEvents: true\n    });\n\n    setData(result.items);\n    setProcessed(true);\n  }\n\n  return (\n    <Container className='p-3'>\n      <h1>Google Calendar Visualization Tool</h1>\n      <Container className=\"p-5 bg-light rounded-3\">\n        {!auth ? \n          <Row>\n            <h2>You are not currently signed in.</h2>\n            <Button onClick={(e) => handleSignIn(e)} variant='primary'>Sign In With Google</Button>\n          </Row>\n          : \n          <>\n            <Row>\n              <label>Start Date:</label>\n              <DatePicker onChange={setStartDate} value={startDate}/>\n            </Row>\n            <Row>\n              <label>End Date (Inclusive): </label>\n              <DatePicker onChange={setEndDate} value={endDate}/>\n            </Row>\n            <Row>\n              <Col>\n                <label>\n                  <input type=\"checkbox\" checked={includeDeleted} onChange={() => setIncludeDeleted(!includeDeleted)} style={{\"margin-right\": \"3px\"}}/>\n                  Include Deleted\n                </label>\n              </Col>\n            </Row>\n            <Row>\n              <Col>\n                <Button onClick={(e) => getEvents()} variant='primary'>Process Calendar Data</Button>\n              </Col>\n            </Row>\n            <Row style={{\"margin-top\": \"5px\"}}>\n              <Col>\n                <Button onClick={(e) => handleSignOut(e)} variant='secondary'>Sign Out</Button>\n              </Col>\n            </Row>\n          </>\n        }\n      </Container>\n      {processed ? <DisplayData data={data}/>: <p></p>}\n    </Container>\n  );\n}\n\nexport default App;"],"mappings":"yWAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CAEA,MAAOC,YAAP,KAAwB,2BAAxB,CACA,MAAOC,WAAP,KAAuB,mBAAvB,CACA,MAAOC,OAAP,KAAmB,wBAAnB,CACA,MAAOC,UAAP,KAAsB,2BAAtB,CACA,MAAOC,IAAP,KAAgB,qBAAhB,CACA,MAAOC,IAAP,KAAgB,qBAAhB,CAEA,MAAOC,YAAP,KAAwB,0BAAxB,C,6IAEA,GAAMC,IAAG,CAAG,QAANA,IAAM,EAAM,CAEhB,cAAwBR,QAAQ,CAAC,KAAD,CAAhC,wCAAOS,IAAP,eAAaC,OAAb,eACA,eAAkCV,QAAQ,CAAC,KAAD,CAA1C,yCAAOW,SAAP,eAAkBC,YAAlB,eACA,eAA4CZ,QAAQ,CAAC,KAAD,CAApD,yCAAOa,cAAP,eAAuBC,iBAAvB,eACA,eAAwBd,QAAQ,CAAC,KAAD,CAAhC,yCAAOe,IAAP,eAAaC,OAAb,eACA,eAAkChB,QAAQ,CAAC,GAAIiB,KAAJ,EAAD,CAA1C,0CAAOC,SAAP,gBAAkBC,YAAlB,gBACA,gBAA8BnB,QAAQ,CAAC,GAAIiB,KAAJ,EAAD,CAAtC,2CAAOG,OAAP,gBAAgBC,UAAhB,gBAEA,GAAMC,aAAY,CAAG,QAAfA,aAAe,CAACC,CAAD,CAAO,CAC1BtB,WAAW,CAACuB,eAAZ,GACA,GAAIvB,WAAW,CAACwB,IAAhB,CAAsB,CACpBf,OAAO,CAAC,IAAD,CAAP,CACD,CACF,CALD,CAOA,GAAMgB,cAAa,CAAG,QAAhBA,cAAgB,CAACH,CAAD,CAAO,CAC3BtB,WAAW,CAAC0B,kBAAZ,GACAjB,OAAO,CAAC,KAAD,CAAP,CACAE,YAAY,CAAC,KAAD,CAAZ,CACD,CAJD,CAMA,GAAMgB,UAAS,4FAAG,sLAChB,MAAO,CAAC3B,WAAW,CAACwB,IAApB,CAA0B,CACxBI,OAAO,CAACC,GAAR,CAAY,oBAAZ,EACD,CAEKC,eALU,CAKQ,GAAId,KAAJ,CAASG,OAAT,CALR,CAMhBW,eAAe,CAACC,OAAhB,CAAwBD,eAAe,CAACE,OAAhB,GAA4B,CAApD,EANgB,sBAQShC,YAAW,CAACiC,UAAZ,CAAuB,CAC9CC,OAAO,CAAEjB,SAAS,CAACkB,WAAV,EADqC,CAE9CC,OAAO,CAAEN,eAAe,CAACK,WAAhB,EAFqC,CAG9CE,WAAW,CAAEzB,cAHiC,CAI9C0B,UAAU,CAAE,KAJkC,CAK9CC,OAAO,CAAE,WALqC,CAM9CC,YAAY,CAAE,IANgC,CAAvB,CART,4CAQRC,MARQ,uBAQRA,MARQ,CAiBhB1B,OAAO,CAAC0B,MAAM,CAACC,KAAR,CAAP,CACA/B,YAAY,CAAC,IAAD,CAAZ,CAlBgB,sDAAH,kBAATgB,UAAS,0CAAf,CAqBA,mBACE,MAAC,SAAD,EAAW,SAAS,CAAC,KAArB,wBACE,0DADF,cAEE,KAAC,SAAD,EAAW,SAAS,CAAC,wBAArB,UACG,CAACnB,IAAD,cACC,MAAC,GAAD,yBACE,wDADF,cAEE,KAAC,MAAD,EAAQ,OAAO,CAAE,iBAACc,CAAD,QAAOD,aAAY,CAACC,CAAD,CAAnB,EAAjB,CAAyC,OAAO,CAAC,SAAjD,iCAFF,GADD,cAMC,wCACE,MAAC,GAAD,yBACE,sCADF,cAEE,KAAC,UAAD,EAAY,QAAQ,CAAEJ,YAAtB,CAAoC,KAAK,CAAED,SAA3C,EAFF,GADF,cAKE,MAAC,GAAD,yBACE,iDADF,cAEE,KAAC,UAAD,EAAY,QAAQ,CAAEG,UAAtB,CAAkC,KAAK,CAAED,OAAzC,EAFF,GALF,cASE,KAAC,GAAD,wBACE,KAAC,GAAD,wBACE,sCACE,cAAO,IAAI,CAAC,UAAZ,CAAuB,OAAO,CAAEP,cAAhC,CAAgD,QAAQ,CAAE,0BAAMC,kBAAiB,CAAC,CAACD,cAAF,CAAvB,EAA1D,CAAoG,KAAK,CAAE,CAAC,eAAgB,KAAjB,CAA3G,EADF,qBADF,EADF,EATF,cAiBE,KAAC,GAAD,wBACE,KAAC,GAAD,wBACE,KAAC,MAAD,EAAQ,OAAO,CAAE,iBAACU,CAAD,QAAOK,UAAS,EAAhB,EAAjB,CAAqC,OAAO,CAAC,SAA7C,mCADF,EADF,EAjBF,cAsBE,KAAC,GAAD,EAAK,KAAK,CAAE,CAAC,aAAc,KAAf,CAAZ,uBACE,KAAC,GAAD,wBACE,KAAC,MAAD,EAAQ,OAAO,CAAE,iBAACL,CAAD,QAAOG,cAAa,CAACH,CAAD,CAApB,EAAjB,CAA0C,OAAO,CAAC,WAAlD,sBADF,EADF,EAtBF,GAPJ,EAFF,CAuCGZ,SAAS,cAAG,KAAC,WAAD,EAAa,IAAI,CAAEI,IAAnB,EAAH,cAA+B,YAvC3C,GADF,CA2CD,CAtFD,CAwFA,cAAeP,IAAf"},"metadata":{},"sourceType":"module"}